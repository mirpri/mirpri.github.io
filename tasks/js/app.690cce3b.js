(function(){"use strict";var e={1020:function(e,t,s){var a=s(5130),n=(s(8992),s(4520),s(6768)),i=s(4232);const d={class:"container"},o={class:"main"},u={class:"highlight"};function l(e,t,s,a,l,r){const c=(0,n.g2)("taskForm"),m=(0,n.g2)("taskItem");return(0,n.uX)(),(0,n.CE)("div",d,[t[2]||(t[2]=(0,n.Lk)("h1",null,"Tasks",-1)),(0,n.Lk)("div",o,[(0,n.Lk)("p",u,(0,i.v_)(r.listsummary),1),(0,n.bF)(c,{onTaskAdded:t[0]||(t[0]=e=>r.addTask(e))}),(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.tasks,(e=>((0,n.uX)(),(0,n.Wv)(m,{key:e.id,id:e.id,name:e.name,due:e.due,onToggleDone:t=>r.toggleDone(e.id),onDeleteTask:t=>l.tasks=l.tasks.filter((t=>t.id!==e.id)),onEditTask:t=>r.editTask(e.id,t),done:e.done,"onUpdate:done":t=>e.done=t},null,8,["id","name","due","onToggleDone","onDeleteTask","onEditTask","done","onUpdate:done"])))),128))]),t[1]||(t[1]=(0,n.Lk)("div",{class:"task-item hidden",id:"item-spacer"},null,-1))]),t[3]||(t[3]=(0,n.Lk)("footer",null,"Simple task list vue app. By mirpri.",-1)),(0,n.Lk)("div",{class:(0,i.C4)(l.messageBar.show?"badge good message":"badge good message shrinked")},(0,i.v_)(l.messageBar.content),3),t[4]||(t[4]=(0,n.Lk)("br",null,null,-1))])}s(4114),s(2577),s(3949);const r=["id"],c=["id","checked"],m=["for"],k={key:0,class:"badge"},h={key:1,class:"badge danger"},p={key:2,class:"badge moderate"};function g(e,t,s,a,d,o){const u=(0,n.g2)("taskEditor");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",{class:"task-item",id:s.id},[(0,n.Lk)("div",null,[(0,n.Lk)("input",{type:"checkbox",id:s.id,onChange:t[0]||(t[0]=t=>e.$emit("toggleDone")),checked:d.isDone},null,40,c),(0,n.Lk)("label",{for:s.id},(0,i.v_)(s.name),9,m),""===s.due||"future"!==o.dateStat(s.due)&&!s.done?""!==s.due&&"past"===o.dateStat(s.due)?((0,n.uX)(),(0,n.CE)("span",h,(0,i.v_)(o.formatTime(s.due)),1)):""!==s.due&&"today"===o.dateStat(s.due)?((0,n.uX)(),(0,n.CE)("span",p,(0,i.v_)(o.formatTime(s.due)),1)):(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",k,(0,i.v_)(o.formatTime(s.due)),1))]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>o.delTask()),class:"danger condensed"},"Del"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>d.isEditing=!0),class:"moderate condensed"},"Edit")])],8,r),d.isEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,id:s.id,label:s.name,due:s.due,onItemEdited:o.editTask,onEditCancelled:t[3]||(t[3]=e=>d.isEditing=!1)},null,8,["id","label","due","onItemEdited"])):(0,n.Q3)("",!0)],64)}const b={class:"modal"},f={class:"modal-content"},v={class:"edit-label"},y={key:0},L=["id"],E={class:"btn-group"},w=["disabled"];function D(e,t,s,d,o,u){return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("div",f,[(0,n.Lk)("form",{class:"stack-small",onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>u.onSubmit&&u.onSubmit(...e)),["prevent"]))},[(0,n.Lk)("div",null,[(0,n.Lk)("label",v,[t[4]||(t[4]=(0,n.eW)("Edit ")),""!=s.label?((0,n.uX)(),(0,n.CE)("span",y,'"'+(0,i.v_)(s.label)+'"',1)):(0,n.Q3)("",!0)]),t[5]||(t[5]=(0,n.Lk)("br",null,null,-1)),(0,n.bo)((0,n.Lk)("input",{id:s.id,type:"text",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>o.newLabel=e),required:"true"},null,8,L),[[a.Jo,o.newLabel,void 0,{lazy:!0,trim:!0}]]),(0,n.bo)((0,n.Lk)("input",{type:"date",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=e=>o.newDue=e)},null,512),[[a.Jo,o.newDue]])]),(0,n.Lk)("div",E,[(0,n.Lk)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=(...e)=>u.onCancel&&u.onCancel(...e))}," Cancel "),(0,n.Lk)("button",{type:"submit",class:"btn btn__primary",disabled:!u.available()}," Save ",8,w)])],32)])])}var T={props:{label:{type:String,required:!0},id:{type:String,required:!0},due:{type:Date,required:!0}},methods:{onSubmit(){this.available()&&this.$emit("item-edited",this.newLabel,new Date(this.newDue).setHours(0,0,0,0))},onCancel(){this.$emit("edit-cancelled")},formatTime2(e){return""===e?"":e.toISOString().split("T")[0]},available(){return this.newLabel&&(this.newLabel!==this.label||this.newDue!==this.due)}},data(){return{newLabel:this.label,newDue:this.formatTime2(this.due)}}},C=s(1241);const S=(0,C.A)(T,[["render",D]]);var O=S,I={components:{taskEditor:O},props:{name:{required:!0,type:String},done:{default:!1,type:Boolean},id:{required:!0,type:String},due:{default:"",type:Date}},data(){return{isDone:this.done,isEditing:!1}},methods:{delTask(){document.getElementById(this.id).classList.add("hidden"),setTimeout((()=>{this.$emit("deleteTask")}),300)},editTask(e,t){"Invalid Date"==t&&(t=""),this.$emit("editTask",{newName:e,newDue:t}),this.isEditing=!1},formatTime(e){const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e.getMonth()]+" "+e.getDate()},dateStat(e){const t=new Date,s=new Date(e);return t.setHours(0,0,0,0),s.setHours(0,0,0,0),s>t?"future":s<t?"past":"today"}}};const X=(0,C.A)(I,[["render",g]]);var F=X;const A={class:"badge"},_={class:"badge"},B={class:"badge"},x={key:0,class:"badge moderate"},J={key:1,class:"badge danger"};function U(e,t,s,d,o,u){const l=(0,n.g2)("taskEditor");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>u.submittask&&u.submittask(...e)),["prevent"])),onFocusin:t[6]||(t[6]=e=>o.isFoucus+=1),onFocusout:t[7]||(t[7]=(...e)=>u.focusOut&&u.focusOut(...e))},[(0,n.bo)((0,n.Lk)("input",{type:"text",id:"newtask-input",autocomplete:"off",placeholder:"Add a task","onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),class:"highlightinput",required:""},null,512),[[a.Jo,o.name,void 0,{lazy:!0,trim:!0}]]),t[13]||(t[13]=(0,n.Lk)("button",{type:"submit"},"Add",-1)),(0,n.Lk)("div",{class:(0,i.C4)(o.isFoucus>0?"btn-div":"hidden")},[(0,n.Lk)("label",A,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>o.days=e),value:"0"},null,512),[[a.XL,o.days]]),t[9]||(t[9]=(0,n.eW)(" today "))]),(0,n.Lk)("label",_,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>o.days=e),value:"1"},null,512),[[a.XL,o.days]]),t[10]||(t[10]=(0,n.eW)(" +1d "))]),(0,n.Lk)("label",B,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=e=>o.days=e),value:"u"},null,512),[[a.XL,o.days]]),t[11]||(t[11]=(0,n.eW)(" unset "))]),(0,n.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>u.openEditor&&u.openEditor(...e))},[t[12]||(t[12]=(0,n.eW)("... ")),"u"!=o.days&&o.days>2?((0,n.uX)(),(0,n.CE)("span",x,"+"+(0,i.v_)(o.days)+"d",1)):(0,n.Q3)("",!0),"u"!=o.days&&o.days<0?((0,n.uX)(),(0,n.CE)("span",J,"-"+(0,i.v_)(-o.days)+"d",1)):(0,n.Q3)("",!0)])],2)],32),o.isEditing?((0,n.uX)(),(0,n.Wv)(l,{key:0,id:0,label:o.name,due:o.due,onItemEdited:u.editTask,onEditCancelled:t[8]||(t[8]=e=>o.isEditing=!1)},null,8,["label","due","onItemEdited"])):(0,n.Q3)("",!0)],64)}var W={components:{taskEditor:O},methods:{submittask(){""!==this.name&&("u"==this.days?this.due="":(this.due=(new Date).setHours(0,0,0,0),this.due+=864e5*this.days,this.due=new Date(this.due)),this.$emit("taskAdded",{name:this.name,due:this.due}),this.name="")},focusOut(){setTimeout((()=>{this.isFoucus-=1}),100)},openEditor(){"u"!=this.days?(this.due=new Date,this.due.setDate(this.due.getDate()+this.days)):this.due="",this.isEditing=!0},editTask(e,t){"Invalid Date"==t&&(t=""),this.name=e,this.due=t,this.days=""===this.due?"u":(this.due-(new Date).setHours(0,0,0,0))/864e5,this.isEditing=!1}},data(){return{name:"",days:0,due:(new Date).setHours(0,0,0,0),isFoucus:0,isEditing:!1}}};const $=(0,C.A)(W,[["render",U]]);var q=$,j=s(5588),H={name:"App",components:{taskItem:F,taskForm:q},data(){return{tasks:[{id:"task-"+(0,j.Ak)(),due:new Date,name:"eat",done:!0},{id:"task-"+(0,j.Ak)(),due:"",name:"sleep",done:!1},{id:"task-"+(0,j.Ak)(),due:"",name:"code",done:!1}],messageBar:{content:"",show:0}}},methods:{addTask(e){document.getElementById("item-spacer").classList.remove("hidden"),document.getElementById("item-spacer").classList.remove("stop-transition"),setTimeout((()=>{document.getElementById("item-spacer").classList.add("hidden"),document.getElementById("item-spacer").classList.add("stop-transition"),this.tasks.push({id:"task-"+(0,j.Ak)(),name:e.name,due:e.due,done:!1})}),300)},toggleDone(e){const t=this.tasks.find((t=>t.id===e));t.done=!t.done},editTask(e,t){const s=this.tasks.find((t=>t.id===e));s.name=t.newName,s.due=t.newDue},saveToLocalStorage(){localStorage.setItem("tasks",JSON.stringify(this.tasks)),this.messageBar.content="Tasks saved to local storage",this.messageBar.show+=1,setTimeout((()=>{this.messageBar.show-=1}),1e3)},loadFromLocalStorage(){const e=localStorage.getItem("tasks");e&&(this.tasks=JSON.parse(e),this.tasks.forEach((e=>{""!=e.due&&(e.due=new Date(e.due))})))}},created(){this.loadFromLocalStorage()},watch:{tasks:{handler(){this.saveToLocalStorage()},deep:!0}},computed:{listsummary(){return this.tasks.filter((e=>!0===e.done)).length+" out of "+this.tasks.length+" items completed"}}};const Q=(0,C.A)(H,[["render",l]]);var V=Q;(0,a.Ef)(V).mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,i){if(!a){var d=1/0;for(r=0;r<e.length;r++){a=e[r][0],n=e[r][1],i=e[r][2];for(var o=!0,u=0;u<a.length;u++)(!1&i||d>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[u])}))?a.splice(u--,1):(o=!1,i<d&&(d=i));if(o){e.splice(r--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[a,n,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,d=a[0],o=a[1],u=a[2],l=0;if(d.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(u)var r=u(s)}for(t&&t(a);l<d.length;l++)i=d[l],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(r)},a=self["webpackChunkvue_tasks"]=self["webpackChunkvue_tasks"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1020)}));a=s.O(a)})();
//# sourceMappingURL=app.690cce3b.js.map